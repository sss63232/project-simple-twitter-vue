(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-770cf8f8"],{"061b":function(t,e,s){"use strict";var a=s("c968"),r=function(){return localStorage.getItem("token")};e["a"]={createReply:function(t){var e=t.tweetId,s=t.comment;return a["c"].post("/tweets/".concat(e,"/replies"),{tweetId:e,comment:s},{headers:{Authorization:"Bearer ".concat(r()," ")}})}}},"1cf1":function(t,e,s){"use strict";s("f792")},"33c2":function(t,e,s){},"498a":function(t,e,s){"use strict";var a=s("23e7"),r=s("58a8").trim,i=s("c8d2");a({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var a=s("e330"),r=s("1d80"),i=s("577e"),n=s("5899"),o=a("".replace),c="["+n+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),A=function(t){return function(e){var s=i(r(e));return 1&t&&(s=o(s,l,"")),2&t&&(s=o(s,u,"")),s}};t.exports={start:A(1),end:A(2),trim:A(3)}},"765f":function(t,e,s){"use strict";s("33c2")},"8f8e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"profile-main"},[s("ProfileCard",t._g({attrs:{user:t.user,followers:t.followers}},t.$listeners)),s("ProfileTabs",{attrs:{status:t.status}}),s("UserTweetsPosts",t._g({attrs:{tweets:t.tweets},on:{"after-create-reply-modal":t.afterCreateReplyModal}},t.$listeners))],1)},r=[],i=s("07c2"),n=s("9a2f"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t.tweets[0]?t._l(t.tweets,(function(e){return a("router-link",{key:e.tweetId,staticClass:"router-to-reply",attrs:{tag:"div",to:{name:"reply",params:{id:e.tweetId}}}},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"avatar",attrs:{to:{name:"user",params:{id:e.User.id}}}},[a("img",{staticClass:"avatar__pic",attrs:{src:t._f("emptyImage")(e.User.avatar),alt:""}})]),a("div",{staticClass:"tweet-content"},[a("div",{staticClass:"title"},[a("router-link",{staticClass:"title__name",attrs:{to:{name:"user",params:{id:e.User.id}}}},[t._v(t._s(e.User.name))]),a("router-link",{staticClass:"title__id",attrs:{to:{name:"user",params:{id:e.User.id}}}},[t._v("@"+t._s(e.User.account)+"．")]),a("h4",{staticClass:"title__formNow"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])],1),a("p",{staticClass:"description"},[t._v(" "+t._s(e.description)+" ")]),a("div",{staticClass:"icon"},[a("router-link",{attrs:{to:""}},[a("img",{staticClass:"icon__reply",attrs:{src:s("cbbc"),alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.clickOnReply(e.tweetId)}}})]),a("h5",[t._v(t._s(e.RepliesCount))]),e.isLiked?a("img",{staticClass:"icon__like",attrs:{src:s("cfc8"),alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteLike(e.tweetId)}}}):a("img",{staticClass:"icon__like",attrs:{src:s("eee5"),alt:""},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addLike(e.tweetId)}}}),a("h5",{class:{pink:e.isLiked}},[t._v(t._s(e.LikesCount))])],1)])],1)])})):a("div",{staticClass:"empty"},[t._v("目前沒有推文內容")]),a("Modal",t._g({attrs:{post:t.replyingPost,show:t.showModal},on:{close:function(e){t.showModal=!1}}},t.$listeners))],2)},c=[],l=(s("4de4"),s("d3b7"),s("c1df")),u=s.n(l),A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("form",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("button",{attrs:{name:"header"},on:{click:function(e){return t.$emit("close")}}},[a("img",{attrs:{src:s("aac3"),alt:""}})])]),a("div",{staticClass:"reply-container"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"avatar__pic",attrs:{src:t._f("emptyImage")(t.post[0].User.avatar),alt:""}}),t._m(0)]),a("div",{staticClass:"tweet-content"},[a("div",{staticClass:"title"},[a("router-link",{staticClass:"title__name",attrs:{to:""}},[t._v(t._s(t.post[0].User.name))]),a("router-link",{staticClass:"title__id",attrs:{to:""}},[t._v("@"+t._s(t.post[0].User.account))]),a("router-link",{staticClass:"title__formNow",attrs:{to:""}},[t._v("．"+t._s(t._f("fromNow")(t.post[0].createdAt)))])],1),a("p",{staticClass:"description"},[t._v(" "+t._s(t.post[0].description)+" ")]),a("div",{staticClass:"hashtag"},[a("router-link",{staticClass:"hashtag__reply",attrs:{to:""}},[t._v("回覆")]),a("router-link",{staticClass:"hashtag__userid",attrs:{to:""}},[t._v("@"+t._s(t.post[0].User.account))])],1)])]),a("div",{staticClass:"modal-body"},[a("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"tweet",attrs:{name:"tweet",id:"",cols:"30",rows:"10",placeholder:"有什麼新鮮事?"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),a("div",{staticClass:"modal-footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.textToMuch,expression:"textToMuch"}],staticClass:"warn"},[t._v("字數不可超過140字")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noSpace,expression:"noSpace"}],staticClass:"warn__2"},[t._v("內容不可空白")]),a("button",{staticClass:"modal-default-button",attrs:{disabled:t.isLoading},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v(" 回覆 ")])])])])]):t._e()},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"divider"},[s("div",{staticClass:"divider__a"}),s("div",{staticClass:"divider__b"})])}],p=s("1da1"),f=s("5530"),m=(s("96cf"),s("498a"),s("d9e2"),s("c968")),w=s("061b"),v=s("2708"),C=s("2f62");u.a.locale("zh-tw");var g={name:"UserReplyModal",mixins:[v["a"]],props:{show:Boolean,post:{type:Array,required:!0}},computed:Object(f["a"])({},Object(C["b"])(["currentUser","isAuthenticated"])),data:function(){return{text:"",isLoading:!1,textToMuch:!1,noSpace:!1}},filters:{fromNow:function(t){return t?u()(t).fromNow():"-"}},methods:{handleSubmit:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,!(t.text.trim().length>140)){e.next=5;break}return t.isLoading=!1,t.noSpace=!1,e.abrupt("return",t.textToMuch=!0);case 5:if(0!==t.text.trim().length){e.next=9;break}return t.textToMuch=!1,t.isLoading=!1,e.abrupt("return",t.noSpace=!0);case 9:return e.prev=9,e.next=12,w["a"].createReply({tweetId:t.post[0].tweetId,comment:t.text});case 12:if(s=e.sent,a=s.data,"error"!==a.status){e.next=16;break}throw new Error(a.message);case 16:t.textToMuch=!1,t.noSpace=!1,t.isLoading=!1,t.$emit("after-create-reply-modal",{tweetId:t.post[0].tweetId}),t.text="",t.$emit("close"),m["a"].fire({title:"回覆成功"}),e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](9),console.log("error",e.t0),m["b"].fire({title:"目前無法回覆，請稍後再試"});case 29:case"end":return e.stop()}}),e,null,[[9,25]])})))()}}},h=g,x=(s("765f"),s("2877")),I=Object(x["a"])(h,A,d,!1,null,"ebc2c182",null),b=I.exports,k={name:"UserTweetsPosts",mixins:[v["a"]],components:{Modal:b},props:{tweets:{type:Array,required:!1}},data:function(){return{showModal:!1,replyingPost:[]}},methods:{clickOnReply:function(t){this.showModal=!0,this.replyingPost=this.tweets.filter((function(e){return e.tweetId===t}))},addLike:function(t){this.$emit("after-like",t)},deleteLike:function(t){this.$emit("after-delete-like",t)}},filters:{fromNow:function(t){return t?u()(t).fromNow():"-"}}},y=k,B=(s("1cf1"),Object(x["a"])(y,o,c,!1,null,"2894ddc4",null)),R=B.exports,U={name:"UserTweets",props:{user:{type:Object,required:!0},tweets:{type:Array,required:!0},followers:{type:Array}},components:{ProfileCard:i["a"],ProfileTabs:n["a"],UserTweetsPosts:R},data:function(){return{status:{tweets:!0,replies:!1,likes:!1}}},methods:{afterCreateReplyModal:function(t){console.log("reply1"),this.$emit("after-create-reply-modal",{id:t,status:"tweets"})}}},Q=U,S=Object(x["a"])(Q,a,r,!1,null,null,null);e["default"]=S.exports},c8d2:function(t,e,s){var a=s("5e77").PROPER,r=s("d039"),i=s("5899"),n="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||n[t]()!==n||a&&i[t].name!==t}))}},cbbc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATzSURBVHgB3VnNUhtHEO6eBSHggp8g4gkMlRxySGKc5JBb4JgTUDFUbtYlCoKDlosQ5BC4pCgRl8UTIJ9yoixXOUfH8hNYfoIoVcYSSJp2j7SSZle7+ln9bfmrosTM7K7209fdM/MNwCcChBHgl72jiJS0QgKXwAcMgIIQRvHPZCwPPuGLSNQ0l95/CG0h4o8EtMIP8UXACQIoChA5wtqzxXAle2qaxX7vHYiI+uVrBAn+yi0YMxQpBMwaCIfnqXih1/V9EVEKfCiFEvzwKEwBSGimT+KHXa+BHtj59WQFRO2Kf6OIxyVFgZglkO8IRAF8AEFGgIz7/Iw18A7TgoH40EudrkR2Y8lNiXDqkgMcu3RJKLJ/peI5GCEe7R2tqdBFgk2X4QIYMxsXLkXBk4giQQiZzhE6W5yvmIMkoh+ofKwCmS6EikzmoZMMejxkrUb03HFhQSJuj1qBXngUS0YRVYGxRUWRw2xVD7MOIlZleq7nhCIhusTnuKHyFDlPyZ6nhcr83WrGigzhvMkqr60bpk1C4eL3WJ6ksQH13GwhEiqFE82GTZGdvaMtIHqq97GEy9MkoePnWHJdIFzpfVYly9kVqavRBiIdBoWEwpOT/azkYqP31ax3bimiyh5qCa5CKn28vwwBw1bUXJqdC70FLfk5V+61FHGWOWI1IIDInJpFfjebKqHybFQLLVrXxooXqYMMBBTVcuVUbxPhZp1IYzbV6zS+gABDqcLvmNO6Ig1FeC9huxJlFgIP+UZv1YlwdYronYbPxd9EgcK2RGkQAfxM7yyHb33v1CaGmuwkQmDfombGvCAcBQxD2N5RwCcCK7TIxm6Ld4QQcNRq0vaODUUQ/tc7F+4WIhBw8JYiorfrRKQEW+JUZGUFAg6BtGZrW72OCiAeQOAh7uut1qJx57fkf9Ce3Yu8EFsOavVqbP7ordaV19dal9rAUogNOAgoas7tBsFli4hyRPRBNh4SQaxeSg3+WNP7hMBsi0jDVLAtxJb0rWRQIIke2zw2xIza/NkmRFbBtgdhwyy6G09uQkCg1HC6nWyAH1qfbfz78rqw+tW393jt9WWrk2D9i2++K7x6ef0Gpoi2u6NtN1iNdCpez+2OJcqT44OoI8SAJGR2Y0dTCzPlPXOVunK6O001rHYn1L44NDf3mjr93jy7FhuTNCQUiZtSSClhm6SJ3RPdLPS0TK1afeV8gHVbhu3+y/Mxu45uZmH929lPSKcOTFtftwcpZYy5WVMAPva4pIAg8pLkC1E/dcLWBBrmPc0w/rCXge5Got4PfUAZdzzpJMj7aMENrmZzL3Q7i/EioWBAH+Bqln/1z/XZ519//44rmgq1fibKsAAKc7V7Bn1Cmee3lZm/+d8fHENF/iF/Sh8fnHvdOwMD4CIVz/BHpnmGIQgfDKiSK5oqcE52qqDWUarAHHcvMAMRacKqFurPOseACH8hnzpJVsszn1yhnPabUlX5zS5Fhc7S9emgN3wR0WGVYvXXrHR9E1FzE2HVdPa3z2L2c9AnhibiB41zyepTdbTdOUpnCz5OxCZOxEsFBnu6uDGICjomRsQ6zvvDXQWRXZwvbw8z74ydSLeKBI2yup0+2Rvaoh0rEUkQuSnNvXY/ox9eBR1jVsTudCi0K9JeDkaICTuNqiLdrY7jiHsiye5nXhgUI1WkXL51iffxqaDjIwalMprALipxAAAAAElFTkSuQmCC"},cfc8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgBrZRdUsIwEIB30+pzb2A64DveAG6gb46jjJxAPQH0BOAJZNBxfNQTgDfouziNN+g7JWsWbCnQH6f0e2ma7n7ZZjZByCA4vWoBCQeiSLnqTWXGyEsJti0Bdeh+vfq733EruHF9jiiezNDZzNKMokUvXoAXRbKGJrW9CQFFQJ77/TzeE/80u30CGEA2IWHUWSWQPd1eeKvKwcl84iVi/i20jwMoJjSVhSZDFgUR6I47f5mJld0+GkI5Tpl0XSn2+Sn+XttQG9hKibP3rCJOWlw7sdiH+vATsWmzD6gJIvhMxAB6BnWxFKNEzH3HJwwOBBHHrhqrRMwQLh/gQPQCvXiciPkiMXvtQUU4N66Wwd0A1byZVjgwvpxPztITe31MkdXj2wr+C99skbjYncas2EDeSrT0tPRuYOlSdNJbAHkVMxzICSWV+3nS3IrTBI3uCBHu0nPmEDyafh0YaZiXVypeyc3WgKXv1xn6fd33xfwC0RmKFO+jYqcAAAAASUVORK5CYII="},eee5:function(t,e){t.exports="data:image/png;base64,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"},f792:function(t,e,s){}}]);
//# sourceMappingURL=chunk-770cf8f8.82ed4987.js.map