(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c28db0f2"],{"0d21":function(t,e,a){},"1e84":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM2SURBVHgB7ZlLThtBEIYL20gRDwnEBgkQkxvADewTROyyizlB4ATgG2SbFWaZHTlBnBuYXXbphS17FyPbC8uv/L/jWIk10109D0Mif9LIzXRNd//d1TXVg8iaNYnIS0bsgYODg7c7OztBr9f7JhmxIRlwdHRUzuVyN9PpNJh1srFhJpNJpdlsViVlUhVwfHxcxM8NrmJoZxkISUWAa+Ah1Eaj0WW73TaSkEQCDg8Pg0KhcCf6gf8FXKw6Ho8rSYTEEsANuru7Sx+/khRIIsRLAAeOqPIeRQ58T9LnFq517yNELQB+Th/PauALfDe6U8BySFwVWiGRAmJElkygELjVdavVegitX77xUgYeQmjoXQhgSMzn8zdQXJYXzHLEWgg4OTn5vmo/jwvdqtvtnndAjjewUc/+lcETjnV7eztgeSZgc3PT4Kb5w6ZGlZIQtrnUbirtsIzoVGd5JsAY04FflVBxjT9LjUajhBD2VWIw7+waKfQ+OnnNi2Xcu4wrBpP5yHbwe8G2+/3++aIu6iFEo1v5FY18Bn+Pxq/om2H1QRDsDYfDDxjIO/Gjgkm9DasoSPRgDDoSLbCvY5bKNhuuNH7KmJxT8QjT8I56VF3O8lxdPEAnFx7mFQ9bQXjvRNVFCuDGFj01nwQM7lDjM1p77CH/FZgvd6TyJR7FH+0znag9RWwuRIwoOxF/tM9YXdkqABtTNUvY7KfiCdrWPvNkq7QK8HiZFcUTpOhFpWmiFTCigK/2eRargmcMbepiC6HEtQfUoRSrdceM1mVHGx6QRIkthBKrAJ9QyhmF/RebCCaNtPFJHG0hlDhftXCNH+J5DmbOjlzqM2baYMCdwWBwhvKbGGeNDt4Z+zaDgrgxuM7EAw4US19mGacouoHExOnCrj2gDqUZ8eQycApI41yQgFRWwMgz4QqhxClAPLPSNHGFUOIU4JmVpoorhBKnAM+sNE2sWehvNC5EjKweleuqBDxTKHWGUKISgM208o2MSXvQ2KkEIA2oygr3AUM3QmhNY6sSwI2MRkuyGhHs40J7xlYnKfgW2d7a2vqEN/M+rgC3Xkm6cOAf+QUan9Iz+7/ymjX/Gz8BDJO12uOTf7IAAAAASUVORK5CYII="},"44e1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJASURBVHgB7ZmLbdswEIa/dgJvUHYCOxOUG9QbVN0gGyQbtBvEnSDNBFYnaDOBlQncTtDwIhk4yY4kPvQAog/4ARogrTvyRB5PsLAQxTvSs3LaOq2rtvDX6dEpdyqYKWLsN6ej0/8W3TkZZoZxOtBuuNaBRE6kCCHjtKduUO70QBk6gqzOZyer+hROV6rPZEhInGZWwmfb0jejHmL3TIyhHhrbHmNsY4xlQvTs33mM26lx35kQ/eJaj3GWethNwibSCP0ufCCQ94RjVPsP/uSqfUUgqRx4xJ9/qr0ikBgH9END9vJCtQ2BxDgwC2Ic0LMeEgKxK/hCjAOFaq/xZ/3Kf42GzKA+UY3HWBMxNil7/DNMQ/0A9DnBz4jNRuUwEyd0POdOvyjjWsf2uupvG//xkYkvORn97wFax2rsLDDUw6lL0ndDAlLfiQ2lYaJmfvNEGSo/mcElZiEVQ5RVTiG0ol5WKSqFZK6DIkZmlC9mV0nltPvcM4MdSAy/oZ/RbeWVGyIIDSHL6wWqgjJMZNfRZRXZlTYtY75Sv+QMhszYpbC4pX8qcc3lQljUavShafyxMiaUjHNHBnOiafyeNFmk4fwUT+7EtvGAHenZMWDBSy/znuFopufBl31Nhn/OH4oYrLflWxKgZz9jeK5JWLWz1Gd/LPQq2LaOXZd6XW3OGY8fXLbhjC4HdOXggfHIVdu0dexy4Em1PzEO8iJ/Ub8LIrCEJ2qp1OejSSs7YCrjk338yJx+w2iGH4jLsRYW3gzPczpIIlWW9TAAAAAASUVORK5CYII="},"476d":function(t,e,a){"use strict";a("0d21")},"584e":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("nav",[e("div",{attrs:{id:"logo"}},[e("router-link",{attrs:{to:"/admin/main"}},[e("img",{attrs:{src:t.logo,alt:"logo"}})])],1),e("div",{staticClass:"menu"},[e("div",{staticClass:"menu__item"},[e("img",{staticClass:"index",class:{"active-img":t.status.tweets},attrs:{src:t.index,alt:"index"}}),e("p",{class:{active:t.status.tweets},attrs:{id:"routerTweets"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClickTweets.apply(null,arguments)}}},[t._v(" 推文清單 ")])]),e("div",{staticClass:"menu__item"},[e("img",{staticClass:"user",class:{"active-img":t.status.users},attrs:{src:t.user,alt:"index"}}),e("p",{class:{active:t.status.users},attrs:{id:"routerUsers"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClickUsers.apply(null,arguments)}}},[t._v(" 使用者列表 ")])])]),e("div",{attrs:{id:"log-out"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onLogOut.apply(null,arguments)}}},[t._m(0),e("p",[t._v("登出")])])])},A=[function(){var t=this,e=t._self._c;return e("div",[e("img",{staticClass:"icon",attrs:{src:a("6d23"),alt:"logoOut"}})])}],i=(a("14d9"),{name:"adminNewNavbar",props:{status:{type:Object}},data(){return{logo:a("bca0"),index:a("1e84"),user:a("44e1")}},methods:{onLogOut(){localStorage.removeItem("token"),this.$router.push("/admin/signin")},onClickTweets(){this.$router.push({path:"/admin/main"})},onClickUsers(){this.$router.push({path:"/admin/users"})}}}),n=i,r=(a("ee9a"),a("2877")),o=Object(r["a"])(n,s,A,!1,null,"37acd158",null);e["a"]=o.exports},"6d23":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACbSURBVHgBvZThDcAQEIVfOoERbvN2A93AKEYwgmp6ElEOUX3J++X5DjkHPKJgE+yCfcOa81VRJyi1k6CaQ0ewgizinOcbFRWrEvqkklOKwNqJLLt3T3WRGOTxBpaKiEDKYIQB5UCagZWAFmMtlNpuWKDlV56G/tI2OXSoseNgaP3jtIgINLy4o/1WinN3/pQqfjq+IlR3gowEuwDXfn/CSY55ogAAAABJRU5ErkJggg=="},"71a4":function(t,e,a){"use strict";a("a270")},a270:function(t,e,a){},be6c:function(t,e,a){"use strict";var s=a("c968");const A=()=>localStorage.getItem("token");e["a"]={users:{get(){return s["c"].get("/admin/users",{headers:{Authorization:"Bearer "+A()}})}},tweets:{get(){return s["c"].get("/admin/tweets",{headers:{Authorization:"Bearer "+A()}})},delete({tweetId:t}){return s["c"].delete("/admin/tweets/"+t,{headers:{Authorization:"Bearer "+A()}})}}}},cd21:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"AdminTweet"}},[e("div",{staticClass:"admin-navbar"},[e("AdminNewNavbar",{attrs:{status:t.status}})],1),e("div",{staticClass:"adminTweetPanel"},[t._m(0),e("adminTweetList",{attrs:{tweets:t.tweets},on:{"after-delete-tweet":t.handleDeleteTweet}})],1)])},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("h1",[t._v("推文清單")])])}],i=a("584e"),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},t._l(t.tweets,(function(s){return e("div",{key:s.tweetId,staticClass:"item"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t._f("emptyImage")(s.userAvatar),alt:"avatar"}})]),e("div",{staticClass:"tweet-info"},[e("div",{staticClass:"title__formNow"},[t._v(" "+t._s(s.User.name)+" "),e("span",[t._v("@"+t._s(s.User.account)+"・"+t._s(t._f("fromNow")(s.createdAt)))])]),e("p",[t._v(t._s(s.description))])]),e("div",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClickDel(s.tweetId)}}},[e("img",{staticClass:"delete__list",attrs:{src:a("d8bb"),alt:""}})])])})),0)},r=[],o=a("c1df"),c=a.n(o),l=a("2708");c.a.locale("zh-tw");var u={name:"AdminTweetItem",mixins:[l["a"]],props:{tweets:{type:Array}},methods:{onClickDel(t){console.log("1"),this.$emit("after-delete-tweet",t)}},filters:{fromNow(t){return t?c()(t).fromNow():"-"}}},d=u,w=(a("71a4"),a("2877")),g=Object(w["a"])(d,n,r,!1,null,"79974beb",null),m=g.exports,f=a("be6c"),v=a("c968"),h={name:"adminNewTweet",components:{AdminNewNavbar:i["a"],adminTweetList:m},created(){this.fetchAdminTweets()},data(){return{tweets:[],status:{tweets:!0,users:!1}}},methods:{async fetchAdminTweets(){try{const{data:t}=await f["a"].tweets.get();this.tweets=t}catch(t){console.log("error",t),v["b"].fire({title:"暫時無法取得推文"})}},async handleDeleteTweet(t){try{console.log("2");const{data:e}=await f["a"].tweets.delete({tweetId:t});if("Error: Tweet not exist!"===e.message)return void v["b"].fire({title:"此推文已不存在"});"Tweet deleted!"===e.message&&v["a"].fire({title:"成功刪除此貼文！"}),this.tweets=this.tweets.filter(e=>e.tweetId!==t)}catch(e){console.log("error",e),v["b"].fire({title:"暫時無法刪除推文"})}}}},p=h,C=(a("476d"),Object(w["a"])(p,s,A,!1,null,"15850161",null));e["default"]=C.exports},d8bb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFZSURBVHgBxdc9TsMwFAfw9+wL9AjcAVaQ4AS9QctAdxYEgqFDEYzMMBAu0qkrCG4AN+AC2NihRq4bfzznRf0PkT/S/OooeUkAdhS0m9nFYqJQPJjONwo1f7y7eYEB4jvCDmgUc9MZmeaeVqKZXS0mwByLGqdxjliPj/yduHGH+mN/MOrzcGcuvAu1kXbztlq+7x+efJl/MN7UcXxwdPz5ulp+ACNqFnoqXZsbT6FP99eN9Me48BxqmzKc64uXoJ1wH7wUjcI1OAVNwhScirZTUJCzy9upwZ63fizUFH7aytdQ0GI4hXcfNY3aJE+1n+hpr0BJcBFeiNoIIAaV1tE5jM+FIa04evW6ECpcMZxFiXjRVZ26T9dY562WepPJrjhXHGrLq+yDum4NLvuitbjkQGtwyYVSccmJUnDkRv2knmo4FJrD/78kYADUpj2GKzQhDMGXBBeawn8BRbV6mndFIpEAAAAASUVORK5CYII="},de3f:function(t,e,a){},ee9a:function(t,e,a){"use strict";a("de3f")}}]);
//# sourceMappingURL=chunk-c28db0f2.2ef0bb02.js.map