(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a2a2531"],{"061b":function(t,e,s){"use strict";var a=s("c968");const i=()=>localStorage.getItem("token");e["a"]={createReply({tweetId:t,comment:e}){return a["c"].post(`/tweets/${t}/replies`,{tweetId:t,comment:e},{headers:{Authorization:`Bearer ${i()} `}})}}},"0df7":function(t,e,s){},"19a1":function(t,e,s){"use strict";s("f8bc")},"43a0":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile-main"},[e("ProfileCard",t._g({attrs:{user:t.user,followers:t.followers}},t.$listeners)),e("ProfileTabs",{attrs:{status:t.status}}),e("LikesContent",t._g({attrs:{userLikes:t.likes},on:{"after-create-reply-modal":t.afterCreateReplyModal}},t.$listeners))],1)},i=[],r=s("07c2"),o=s("9a2f"),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[t.likes[0]?t._l(t.likes,(function(a){return e("router-link",{key:a.TweetId,staticClass:"router-to-reply",attrs:{tag:"div",to:{name:"reply",params:{id:a.TweetId}}}},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"avatar",attrs:{to:{name:"user",params:{id:a.Tweet.User.id}}}},[e("img",{staticClass:"avatar__pic",attrs:{src:t._f("emptyImage")(a.Tweet.User.avatar),alt:""}})]),e("div",{staticClass:"tweet-content"},[e("div",{staticClass:"title"},[e("router-link",{staticClass:"title__name",attrs:{to:{name:"user",params:{id:a.Tweet.User.id}}}},[t._v(t._s(a.Tweet.User.name))]),e("router-link",{staticClass:"title__id",attrs:{to:{name:"user",params:{id:a.Tweet.User.id}}}},[t._v("@"+t._s(a.Tweet.User.account)+"．")]),e("h4",{staticClass:"title__formNow"},[t._v(t._s(t._f("fromNow")(a.Tweet.createdAt)))])],1),e("p",{staticClass:"description"},[t._v(" "+t._s(a.Tweet.description)+" ")]),e("div",{staticClass:"icon"},[e("router-link",{attrs:{to:{name:"user-likes",params:{id:a.userId}}}},[e("img",{staticClass:"icon__reply",attrs:{src:s("cbbc"),alt:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clickOnReply(a.TweetId)}}})]),e("h5",[t._v(t._s(a.Tweet.repliesCount))]),e("img",{staticClass:"icon__like",attrs:{src:s("cfc8"),alt:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteLike(a.TweetId)}}}),e("h5",{staticClass:"icon__quantity"},[t._v(t._s(a.Tweet.likesCount))])],1)])],1)])})):e("div",{staticClass:"empty"},[t._v("目前沒有喜歡的內容")]),e("Modal",t._g({attrs:{post:t.replyingPost,show:t.showModal},on:{close:function(e){t.showModal=!1}}},t.$listeners))],2)},l=[],c=s("c1df"),d=s.n(c),u=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("form",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("button",{attrs:{name:"header"},on:{click:function(e){return t.$emit("close")}}},[e("img",{attrs:{src:s("aac3"),alt:""}})])]),e("div",{staticClass:"reply-container"},[e("div",{staticClass:"avatar"},[e("img",{staticClass:"avatar__pic",attrs:{src:t._f("emptyImage")(t.post[0].image),alt:""}}),t._m(0)]),e("div",{staticClass:"tweet-content"},[e("div",{staticClass:"title"},[e("router-link",{staticClass:"title__name",attrs:{to:""}},[t._v(t._s(t.post[0].Tweet.User.name))]),e("router-link",{staticClass:"title__id",attrs:{to:""}},[t._v("@"+t._s(t.post[0].Tweet.User.account))]),e("router-link",{staticClass:"title__formNow",attrs:{to:""}},[t._v("．"+t._s(t._f("fromNow")(t.post[0].Tweet.createdAt)))])],1),e("p",{staticClass:"description"},[t._v(" "+t._s(t.post[0].Tweet.description)+" ")]),e("div",{staticClass:"hashtag"},[e("router-link",{staticClass:"hashtag__reply",attrs:{to:""}},[t._v("回覆")]),e("router-link",{staticClass:"hashtag__userid",attrs:{to:""}},[t._v("@"+t._s(t.post[0].Tweet.User.account))])],1)])]),e("div",{staticClass:"modal-body"},[e("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:""}}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"tweet",attrs:{name:"tweet",id:"",cols:"30",rows:"10",placeholder:"有什麼新鮮事?"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),e("div",{staticClass:"modal-footer"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.textToMuch,expression:"textToMuch"}],staticClass:"warn"},[t._v("字數不可超過140字")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.noSpace,expression:"noSpace"}],staticClass:"warn__2"},[t._v("內容不可空白")]),e("button",{staticClass:"modal-default-button",attrs:{disabled:t.isLoading},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v(" 回覆 ")])])])])]):t._e()},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider"},[e("div",{staticClass:"divider__a"}),e("div",{staticClass:"divider__b"})])}],p=(s("d9e2"),s("c968")),m=s("061b"),w=s("2708"),f=s("2f62");d.a.locale("zh-tw");var h={name:"UserReplyModal",mixins:[w["a"]],props:{show:Boolean,post:{type:Array,required:!0}},computed:{...Object(f["b"])(["currentUser","isAuthenticated"])},data(){return{text:"",isLoading:!1,textToMuch:!1,noSpace:!1}},filters:{fromNow(t){return t?d()(t).fromNow():"-"}},methods:{async handleSubmit(){if(this.isLoading=!0,this.text.trim().length>140)return this.isLoading=!1,this.noSpace=!1,this.textToMuch=!0;if(0===this.text.trim().length)return this.textToMuch=!1,this.isLoading=!1,this.noSpace=!0;try{const{data:t}=await m["a"].createReply({tweetId:this.post[0].TweetId,comment:this.text});if("error"===t.status)throw new Error(t.message);this.textToMuch=!1,this.noSpace=!1,this.isLoading=!1,this.$emit("after-create-reply-modal",{tweetId:this.post[0].TweetId}),this.text="",this.$emit("close"),p["a"].fire({title:"回覆成功"})}catch(t){console.log("error",t),p["b"].fire({title:"目前無法回覆，請稍後再試"})}}}},C=h,v=(s("19a1"),s("2877")),g=Object(v["a"])(C,u,A,!1,null,"c2f75bf8",null),k=g.exports,_={name:"LikesContent",mixins:[w["a"]],components:{Modal:k},props:{userLikes:{type:Array}},data(){return{showModal:!1,replyingPost:[]}},computed:{likes:function(){return this.userLikes.filter(t=>!!t.Tweet)}},methods:{clickOnReply(t){this.showModal=!0,this.replyingPost=this.likes.filter(e=>e.TweetId===t)},deleteLike(t){this.$emit("after-delete-on-like",t)}},filters:{fromNow(t){return t?d()(t).fromNow():"-"}}},I=_,y=(s("5d66"),Object(v["a"])(I,n,l,!1,null,"514e7df7",null)),x=y.exports,b={name:"UserLikes",components:{ProfileCard:r["a"],ProfileTabs:o["a"],LikesContent:x},props:{user:{type:Object,required:!0},likes:{type:Array},followers:{type:Array}},data(){return{status:{tweets:!1,replies:!1,likes:!0}}},methods:{afterCreateReplyModal(t){this.$emit("after-create-reply-modal",{id:t,status:"likes"})}}},T=b,B=Object(v["a"])(T,a,i,!1,null,null,null);e["default"]=B.exports},"5d66":function(t,e,s){"use strict";s("0df7")},cbbc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATzSURBVHgB3VnNUhtHEO6eBSHggp8g4gkMlRxySGKc5JBb4JgTUDFUbtYlCoKDlosQ5BC4pCgRl8UTIJ9yoixXOUfH8hNYfoIoVcYSSJp2j7SSZle7+ln9bfmrosTM7K7209fdM/MNwCcChBHgl72jiJS0QgKXwAcMgIIQRvHPZCwPPuGLSNQ0l95/CG0h4o8EtMIP8UXACQIoChA5wtqzxXAle2qaxX7vHYiI+uVrBAn+yi0YMxQpBMwaCIfnqXih1/V9EVEKfCiFEvzwKEwBSGimT+KHXa+BHtj59WQFRO2Kf6OIxyVFgZglkO8IRAF8AEFGgIz7/Iw18A7TgoH40EudrkR2Y8lNiXDqkgMcu3RJKLJ/peI5GCEe7R2tqdBFgk2X4QIYMxsXLkXBk4giQQiZzhE6W5yvmIMkoh+ofKwCmS6EikzmoZMMejxkrUb03HFhQSJuj1qBXngUS0YRVYGxRUWRw2xVD7MOIlZleq7nhCIhusTnuKHyFDlPyZ6nhcr83WrGigzhvMkqr60bpk1C4eL3WJ6ksQH13GwhEiqFE82GTZGdvaMtIHqq97GEy9MkoePnWHJdIFzpfVYly9kVqavRBiIdBoWEwpOT/azkYqP31ax3bimiyh5qCa5CKn28vwwBw1bUXJqdC70FLfk5V+61FHGWOWI1IIDInJpFfjebKqHybFQLLVrXxooXqYMMBBTVcuVUbxPhZp1IYzbV6zS+gABDqcLvmNO6Ig1FeC9huxJlFgIP+UZv1YlwdYronYbPxd9EgcK2RGkQAfxM7yyHb33v1CaGmuwkQmDfombGvCAcBQxD2N5RwCcCK7TIxm6Ld4QQcNRq0vaODUUQ/tc7F+4WIhBw8JYiorfrRKQEW+JUZGUFAg6BtGZrW72OCiAeQOAh7uut1qJx57fkf9Ce3Yu8EFsOavVqbP7ordaV19dal9rAUogNOAgoas7tBsFli4hyRPRBNh4SQaxeSg3+WNP7hMBsi0jDVLAtxJb0rWRQIIke2zw2xIza/NkmRFbBtgdhwyy6G09uQkCg1HC6nWyAH1qfbfz78rqw+tW393jt9WWrk2D9i2++K7x6ef0Gpoi2u6NtN1iNdCpez+2OJcqT44OoI8SAJGR2Y0dTCzPlPXOVunK6O001rHYn1L44NDf3mjr93jy7FhuTNCQUiZtSSClhm6SJ3RPdLPS0TK1afeV8gHVbhu3+y/Mxu45uZmH929lPSKcOTFtftwcpZYy5WVMAPva4pIAg8pLkC1E/dcLWBBrmPc0w/rCXge5Got4PfUAZdzzpJMj7aMENrmZzL3Q7i/EioWBAH+Bqln/1z/XZ519//44rmgq1fibKsAAKc7V7Bn1Cmee3lZm/+d8fHENF/iF/Sh8fnHvdOwMD4CIVz/BHpnmGIQgfDKiSK5oqcE52qqDWUarAHHcvMAMRacKqFurPOseACH8hnzpJVsszn1yhnPabUlX5zS5Fhc7S9emgN3wR0WGVYvXXrHR9E1FzE2HVdPa3z2L2c9AnhibiB41zyepTdbTdOUpnCz5OxCZOxEsFBnu6uDGICjomRsQ6zvvDXQWRXZwvbw8z74ydSLeKBI2yup0+2Rvaoh0rEUkQuSnNvXY/ox9eBR1jVsTudCi0K9JeDkaICTuNqiLdrY7jiHsiye5nXhgUI1WkXL51iffxqaDjIwalMprALipxAAAAAElFTkSuQmCC"},cfc8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF0SURBVHgBrZRdUsIwEIB30+pzb2A64DveAG6gb46jjJxAPQH0BOAJZNBxfNQTgDfouziNN+g7JWsWbCnQH6f0e2ma7n7ZZjZByCA4vWoBCQeiSLnqTWXGyEsJti0Bdeh+vfq733EruHF9jiiezNDZzNKMokUvXoAXRbKGJrW9CQFFQJ77/TzeE/80u30CGEA2IWHUWSWQPd1eeKvKwcl84iVi/i20jwMoJjSVhSZDFgUR6I47f5mJld0+GkI5Tpl0XSn2+Sn+XttQG9hKibP3rCJOWlw7sdiH+vATsWmzD6gJIvhMxAB6BnWxFKNEzH3HJwwOBBHHrhqrRMwQLh/gQPQCvXiciPkiMXvtQUU4N66Wwd0A1byZVjgwvpxPztITe31MkdXj2wr+C99skbjYncas2EDeSrT0tPRuYOlSdNJbAHkVMxzICSWV+3nS3IrTBI3uCBHu0nPmEDyafh0YaZiXVypeyc3WgKXv1xn6fd33xfwC0RmKFO+jYqcAAAAASUVORK5CYII="},f8bc:function(t,e,s){}}]);
//# sourceMappingURL=chunk-4a2a2531.138dda3e.js.map