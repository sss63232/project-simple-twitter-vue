{"version":3,"sources":["webpack:///./node_modules/core-js/internals/delete-property-or-throw.js","webpack:///./src/views/User.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue?1f52","webpack:///./src/assets/icon_index.png","webpack:///./src/utils/mixins.js","webpack:///./src/views/User.vue?7811","webpack:///./node_modules/core-js/modules/es.array.unshift.js","webpack:///./src/components/TweetModal.vue","webpack:///src/components/TweetModal.vue","webpack:///./src/components/TweetModal.vue?17e6","webpack:///./src/components/TweetModal.vue?ee65","webpack:///./src/assets/icon_user.png","webpack:///./src/components/TweetModal.vue?630e","webpack:///./src/components/Navbar.vue?93cc","webpack:///./src/assets/icon_cog.png","webpack:///./src/apis/tweets.js","webpack:///./src/assets/Vector.png","webpack:///./src/components/PopularUsers.vue?ea84","webpack:///./src/assets/X.png","webpack:///./src/assets/arrow.png","webpack:///./src/components/Navbar.vue","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?6c87","webpack:///./src/components/Navbar.vue?402d","webpack:///./src/components/PopularUsers.vue","webpack:///src/components/PopularUsers.vue","webpack:///./src/components/PopularUsers.vue?e604","webpack:///./src/components/PopularUsers.vue?7dde"],"names":["tryToString","$TypeError","TypeError","module","exports","O","P","render","_vm","this","_c","_self","staticClass","attrs","currentStatus","on","afterCreateTweetModal","require","_v","_s","user","name","tweets","length","likes","Followers","Followings","replyTweets","handleAddLike","handleDeleteLike","handleUpdate","handleDeleteLikePost","handleRemoveFollowship","handleAddFollowship","handleDelFollowship","handleCancelCover","handleReplyModal","topUsers","handleRemovePop","handleAddPop","staticRenderFns","components","Navbar","PopularUsers","computed","mapState","created","userId","$route","params","id","fetchUser","fetchTweets","fetchLikes","fetchReplies","fetchFollowers","fetchFollowings","$watch","newV","oldV","data","isIndex","isUser","isSetting","avatar","introduction","account","cover","followersLength","followingsLength","isLoading","methods","usersAPI","get","message","console","log","Toast2","fire","title","error","getTweets","isEmpty","getReplies","getLikes","getFollowers","getFollowings","getTopUser","tweetId","tweetsAPI","addLike","status","Error","map","tweet","LikesCount","isLiked","deleteLike","filter","like","TweetId","Toast","removeFollowship","followingId","fetchTopUsers","icon","formData","addFollowship","followerId","isFollowed","payload","UserId","image","description","createdAt","RepliesCount","createaData","User","unshift","Tweet","repliesCount","component","emptyImageFilter","filters","emptyImage","src","$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","properErrorOnNonWritableLength","Object","defineProperty","writable","FORCED","target","proto","arity","forced","item","len","argCount","arguments","k","to","j","show","$event","stopPropagation","preventDefault","handleSubmit","apply","$emit","_f","currentUser","directives","rawName","value","text","expression","domProps","composing","textToMuch","noSpace","_e","mixins","props","Boolean","trim","createTweet","userAvatar","Date","getToken","localStorage","getItem","apiHelper","headers","Authorization","getTweet","post","class","active","showModal","logOut","_m","Modal","type","required","removeItem","$router","push","_l","key","isFollowing","removeFollowing","addFollowing","changeTopUser","Array","watch"],"mappings":"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","file":"js/chunk-1fb6a187.d057d3cb.js","sourcesContent":["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"navbar\"},[_c('Navbar',{attrs:{\"current-status\":_vm.currentStatus},on:{\"after-create-tweet-modal\":_vm.afterCreateTweetModal}})],1),_c('div',{staticClass:\"main\"},[_c('header',{staticClass:\"header\"},[_c('button',[_c('router-link',{attrs:{\"to\":\"/main\"}},[_c('img',{staticClass:\"previous-btn\",attrs:{\"src\":require(\"./../assets/arrow.png\"),\"alt\":\"backarrow\"}})])],1),_c('div',{staticClass:\"title\"},[_c('p',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"user-tweet\"},[_vm._v(_vm._s(_vm.tweets.length)+\" 推文\")])])]),_c('div',{staticClass:\"user-page-body\"},[_c('router-view',{attrs:{\"user\":_vm.user,\"tweets\":_vm.tweets,\"likes\":_vm.likes,\"followers\":_vm.Followers,\"followings\":_vm.Followings,\"replies\":_vm.replyTweets},on:{\"after-like\":_vm.handleAddLike,\"after-delete-like\":_vm.handleDeleteLike,\"after-update\":_vm.handleUpdate,\"after-delete-on-like\":_vm.handleDeleteLikePost,\"after-remove-followship\":_vm.handleRemoveFollowship,\"after-add-followship\":_vm.handleAddFollowship,\"after-del-followship\":_vm.handleDelFollowship,\"after-cancel-cover\":_vm.handleCancelCover,\"after-create-reply-modal\":_vm.handleReplyModal}})],1)]),_c('div',{staticClass:\"popular-users\"},[_c('PopularUsers',{attrs:{\"change-top-user\":_vm.topUsers},on:{\"after-remove-pop\":_vm.handleRemovePop,\"after-add-pop\":_vm.handleAddPop}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"navbar\">\n      <Navbar :current-status=\"currentStatus\" @after-create-tweet-modal=\"afterCreateTweetModal\" />\n    </div>\n    <div class=\"main\">\n      <header class=\"header\">\n        <button>\n          <router-link to=\"/main\"\n            ><img src=\"./../assets/arrow.png\" alt=\"backarrow\" class=\"previous-btn\" />\n          </router-link>\n        </button>\n        <div class=\"title\">\n          <p class=\"user-name\">{{ user.name }}</p>\n          <p class=\"user-tweet\">{{ tweets.length }} 推文</p>\n        </div>\n      </header>\n      <div class=\"user-page-body\">\n        <router-view\n          :user=\"user\"\n          :tweets=\"tweets\"\n          :likes=\"likes\"\n          :followers=\"Followers\"\n          :followings=\"Followings\"\n          :replies=\"replyTweets\"\n          @after-like=\"handleAddLike\"\n          @after-delete-like=\"handleDeleteLike\"\n          @after-update=\"handleUpdate\"\n          @after-delete-on-like=\"handleDeleteLikePost\"\n          @after-remove-followship=\"handleRemoveFollowship\"\n          @after-add-followship=\"handleAddFollowship\"\n          @after-del-followship=\"handleDelFollowship\"\n          @after-cancel-cover=\"handleCancelCover\"\n          @after-create-reply-modal=\"handleReplyModal\"\n        />\n      </div>\n    </div>\n    <div class=\"popular-users\">\n      <PopularUsers\n        :change-top-user=\"topUsers\"\n        @after-remove-pop=\"handleRemovePop\"\n        @after-add-pop=\"handleAddPop\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"../components/Navbar.vue\";\nimport PopularUsers from \"../components/PopularUsers.vue\";\nimport usersAPI from \"./../apis/users\";\nimport tweetsAPI from \"./../apis/tweets\";\nimport { Toast, Toast2 } from \"./../utils/helper\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"User\",\n\n  components: {\n    Navbar,\n    PopularUsers,\n  },\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"]),\n  },\n  created() {\n    const userId = this.$route.params.id;\n    this.fetchUser(userId);\n    this.fetchTweets(userId);\n    this.fetchLikes(userId);\n    this.fetchReplies(userId);\n    this.fetchFollowers(userId);\n    this.fetchFollowings(userId);\n    this.$watch(\n      () => this.$route.params,\n      (newV, oldV) => {\n        if (newV.id === oldV.id) {\n          return;\n        } else {\n          const userId = newV.id;\n          this.fetchUser(userId);\n          this.fetchTweets(userId);\n          this.fetchLikes(userId);\n          this.fetchReplies(userId);\n          this.fetchFollowers(userId);\n          this.fetchFollowings(userId);\n        }\n      }\n    );\n  },\n\n  data() {\n    return {\n      currentStatus: {\n        isIndex: false,\n        isUser: true,\n        isSetting: false,\n      },\n      user: {\n        id: -1,\n        name: \"\",\n        avatar: \"\",\n        introduction: \"\",\n        account: \"\",\n        cover: \"\",\n        followersLength: 0,\n        followingsLength: 0,\n      },\n      tweets: [],\n      replyTweets: [],\n      likes: [],\n      Followers: [],\n      Followings: [],\n      topUsers: [],\n      isLoading: true,\n    };\n  },\n  methods: {\n    async fetchUser(userId) {\n      try {\n        this.isLoading = true;\n        const { data } = await usersAPI.get({ userId });\n        if (data.message === \"Error: 帳號不存在！\") {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"無此帳號，請稍後再試\",\n          });\n        }\n        const { id, name, avatar, introduction, account, cover, Followers, Followings } = data;\n        this.user = {\n          id,\n          name,\n          avatar,\n          introduction,\n          account,\n          cover,\n          followersLength: Followers ? Followers.length : 0,\n          followingsLength: Followings ? Followings.length : 0,\n        };\n        this.isLoading = false;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得資料，請稍後再試\",\n        });\n      }\n    },\n    async fetchTweets(userId) {\n      try {\n        const { data } = await usersAPI.getTweets({ userId });\n        if (data.isEmpty) {\n          this.tweets = [];\n          return;\n        }\n        if (data.message === \"Error: User has no tweets\") {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"目前沒有推文內容\",\n          });\n          this.tweets = [];\n          return;\n        }\n        this.tweets = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得資料，請稍後再試\",\n        });\n      }\n    },\n    async fetchReplies(userId) {\n      try {\n        const { data } = await usersAPI.getReplies({ userId });\n        if (data.isEmpty) {\n          this.replyTweets = [];\n          return;\n        }\n        if (data.message === \"Error: No replies\") {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"目前沒有推文及回覆內容\",\n          });\n          this.replyTweets = [];\n          return;\n        }\n        this.replyTweets = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得資料，請稍後再試\",\n        });\n      }\n    },\n    // empty:處理面對空值的回傳方法\n    async fetchLikes(userId) {\n      try {\n        const { data } = await usersAPI.getLikes({ userId });\n        if (data.message === \"TypeError: Cannot read properties of null (reading 'Likes')\") {\n          Toast2.fire({\n            title: \"目前沒有喜歡的內容\",\n          });\n          this.likes = [];\n          return;\n        }\n        if (data.isEmpty) {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"目前沒有喜歡的內容\",\n          });\n          this.likes = [];\n          return;\n        }\n        this.likes = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得資料，請稍後再試\",\n        });\n        this.likes = [];\n      }\n    },\n    async fetchFollowers(userId) {\n      try {\n        const { data } = await usersAPI.getFollowers({ userId });\n        if (data.isEmpty) {\n          console.log(\"error\", data.isEmpty);\n          this.Followers = [];\n          return;\n        }\n        this.Followers = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得資料，請稍後再試\",\n        });\n      }\n    },\n    async fetchFollowings(userId) {\n      try {\n        const { data } = await usersAPI.getFollowings({ userId });\n        if (data.isEmpty) {\n          this.Followings = [];\n          return;\n        }\n        this.Followings = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得該Followings資料，請稍後再試\",\n        });\n      }\n    },\n    async fetchTopUsers() {\n      try {\n        const { data } = await usersAPI.getTopUser();\n        this.topUsers = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得資料，請稍後再試\",\n        });\n      }\n    },\n    async handleAddLike(tweetId) {\n      try {\n        const { data } = await tweetsAPI.addLike({ tweetId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.tweets = this.tweets.map((tweet) => {\n          if (tweet.tweetId === tweetId) {\n            return {\n              ...tweet,\n              LikesCount: tweet.LikesCount + 1,\n              isLiked: true,\n            };\n          }\n          return tweet;\n        });\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法新增喜歡，請稍後再試\",\n        });\n      }\n    },\n    async handleDeleteLike(tweetId) {\n      try {\n        const { data } = await tweetsAPI.deleteLike({ tweetId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.tweets = this.tweets.map((tweet) => {\n          if (tweet.tweetId === tweetId) {\n            return {\n              ...tweet,\n              LikesCount: tweet.LikesCount - 1,\n              isLiked: false,\n            };\n          }\n          return tweet;\n        });\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取消喜歡，請稍後再試\",\n        });\n      }\n    },\n    async handleDeleteLikePost(tweetId) {\n      try {\n        const { data } = await tweetsAPI.deleteLike({ tweetId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.likes = this.likes.filter((like) => {\n          return like.TweetId !== tweetId;\n        });\n\n        Toast.fire({\n          title: \"成功取消喜歡！\",\n        });\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取消喜歡，請稍後再試\",\n        });\n      }\n    },\n    async handleRemoveFollowship(userId) {\n      try {\n        const { data } = await usersAPI.removeFollowship({ userId });\n        if (data.message === \"Error: Cannot unfollow yourself!\") {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"不能取消跟隨自己\",\n          });\n          return;\n        }\n        if (data.message === \"Error: You have not followed this user.!\") {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"已經取消跟隨\",\n          });\n          return;\n        }\n        Toast.fire({\n          title: \"成功取消跟隨！\",\n        });\n\n        // 從Followings清單中移除相同id的人\n        this.Followings = this.Followings.filter((user) => {\n          return user.followingId !== userId;\n        });\n        // 正在跟隨人數變少\n        this.followingsLength - 1;\n        // 重整topuser資料\n        this.fetchTopUsers();\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          icon: \"error\",\n          title: \"無法取消跟隨，請稍後再試\",\n        });\n      }\n    },\n    async handleAddFollowship(userId) {\n      try {\n        const formData = { id: userId };\n        const { data } = await usersAPI.addFollowship({ formData });\n        if (data.message === \"Error: You are already following this user.\") {\n          Toast2.fire({\n            title: \"已經跟隨該用戶\",\n          });\n          return;\n        }\n        if (data.message === \"Error: Cannot follow yourself!\") {\n          Toast2.fire({\n            title: \"無法跟隨此用戶\",\n          });\n        }\n        // 對原本沒有跟隨的人跟隨\n        this.Followers = this.Followers.map((user) => {\n          if (user.followerId === userId) {\n            return {\n              ...user,\n              isFollowed: true,\n            };\n          }\n          return user;\n        });\n        Toast.fire({\n          title: \"成功跟隨此用戶\",\n        });\n        this.fetchFollowings(this.user.id);\n        // 跟隨人數加1\n        this.followingsLength + 1;\n        // 重整topuser資料\n        this.fetchTopUsers();\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法新增跟隨，請稍後再試\",\n        });\n      }\n    },\n    async handleDelFollowship(userId) {\n      try {\n        const { data } = await usersAPI.removeFollowship({ userId });\n        if (data.message === \"Error: Cannot unfollow yourself!\") {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"不能取消跟隨自己\",\n          });\n          return;\n        }\n        if (data.message === \"Error: You have not followed this user.!\") {\n          console.log(\"error\", data.message);\n          Toast2.fire({\n            title: \"已經取消跟隨\",\n          });\n          return;\n        }\n        Toast.fire({\n          title: \"成功取消跟隨！\",\n        });\n\n        // 改變跟隨的狀態\n        this.Followers = this.Followers.map((user) => {\n          if (user.followerId === userId) {\n            return {\n              ...user,\n              isFollowed: false,\n            };\n          }\n          return user;\n        });\n        // 正在跟隨人數變少\n        this.followingsLength - 1;\n        // 重整topuser資料\n        this.fetchTopUsers();\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取消跟隨，請稍後再試\",\n        });\n      }\n    },\n    handleUpdate(formData) {\n      const { name, avatar, cover, introduction } = formData;\n      this.user = {\n        ...this.user,\n        name,\n        avatar,\n        cover,\n        introduction,\n      };\n      this.fetchTweets(this.user.id);\n      this.fetchUser(this.user.id);\n      this.fetchTopUsers();\n      this.fetchLikes(this.user.id);\n      this.fetchReplies(this.user.id);\n    },\n    handleRemovePop() {\n      this.user.followingsLength - 1;\n    },\n    handleAddPop() {\n      this.user.followingsLength + 1;\n    },\n    afterCreateTweetModal(payload) {\n      const { UserId, name, image, account, description, createdAt, LikesCount, RepliesCount } =\n        payload;\n      const createaData = {\n        createdAt,\n        description,\n        image,\n        LikesCount,\n        RepliesCount,\n        User: {\n          id: UserId,\n          name,\n          account,\n          avatar: image,\n        },\n        isLiked: false,\n      };\n      this.tweets.unshift(createaData);\n    },\n    handleCancelCover() {\n      this.user.cover = \"\";\n    },\n    handleReplyModal({ id, status }) {\n      if (status === \"tweets\") {\n        this.tweets = this.tweets.map((tweet) => {\n          if (tweet.tweetId === id.tweetId) {\n            return {\n              ...tweet,\n              RepliesCount: tweet.RepliesCount + 1,\n            };\n          }\n          return tweet;\n        });\n      } else if (status === \"likes\") {\n        this.likes = this.likes.map((like) => {\n          if (like.TweetId === id.tweetId) {\n            like.Tweet.repliesCount++;\n          }\n          return like;\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/styles/variables.scss\";\n.container {\n  display: grid;\n  grid-template-columns: 210px 600px 350px;\n  column-gap: 30px;\n}\n.main {\n  width: 100%;\n  height: auto;\n}\n.header {\n  width: 100%;\n  height: 55px;\n  display: flex;\n  align-content: center;\n  border: {\n    left: 1px solid #e6ecf0;\n    right: 1px solid #e6ecf0;\n  }\n  .previous-btn {\n    width: 17px;\n    height: 14px;\n    margin: 20px;\n  }\n  .title {\n    margin-left: 1rem;\n    .user-name {\n      font-weight: 900;\n      font-size: 19px;\n    }\n    .user-tweet {\n      font-weight: 500;\n      font-size: 13px;\n      color: $secondaryTextColor;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=2a529bcc&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=2a529bcc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a529bcc\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM2SURBVHgB7ZlLThtBEIYL20gRDwnEBgkQkxvADewTROyyizlB4ATgG2SbFWaZHTlBnBuYXXbphS17FyPbC8uv/L/jWIk10109D0Mif9LIzXRNd//d1TXVg8iaNYnIS0bsgYODg7c7OztBr9f7JhmxIRlwdHRUzuVyN9PpNJh1srFhJpNJpdlsViVlUhVwfHxcxM8NrmJoZxkISUWAa+Ah1Eaj0WW73TaSkEQCDg8Pg0KhcCf6gf8FXKw6Ho8rSYTEEsANuru7Sx+/khRIIsRLAAeOqPIeRQ58T9LnFq517yNELQB+Th/PauALfDe6U8BySFwVWiGRAmJElkygELjVdavVegitX77xUgYeQmjoXQhgSMzn8zdQXJYXzHLEWgg4OTn5vmo/jwvdqtvtnndAjjewUc/+lcETjnV7eztgeSZgc3PT4Kb5w6ZGlZIQtrnUbirtsIzoVGd5JsAY04FflVBxjT9LjUajhBD2VWIw7+waKfQ+OnnNi2Xcu4wrBpP5yHbwe8G2+/3++aIu6iFEo1v5FY18Bn+Pxq/om2H1QRDsDYfDDxjIO/Gjgkm9DasoSPRgDDoSLbCvY5bKNhuuNH7KmJxT8QjT8I56VF3O8lxdPEAnFx7mFQ9bQXjvRNVFCuDGFj01nwQM7lDjM1p77CH/FZgvd6TyJR7FH+0znag9RWwuRIwoOxF/tM9YXdkqABtTNUvY7KfiCdrWPvNkq7QK8HiZFcUTpOhFpWmiFTCigK/2eRargmcMbepiC6HEtQfUoRSrdceM1mVHGx6QRIkthBKrAJ9QyhmF/RebCCaNtPFJHG0hlDhftXCNH+J5DmbOjlzqM2baYMCdwWBwhvKbGGeNDt4Z+zaDgrgxuM7EAw4US19mGacouoHExOnCrj2gDqUZ8eQycApI41yQgFRWwMgz4QqhxClAPLPSNHGFUOIU4JmVpoorhBKnAM+sNE2sWehvNC5EjKweleuqBDxTKHWGUKISgM208o2MSXvQ2KkEIA2oygr3AUM3QmhNY6sSwI2MRkuyGhHs40J7xlYnKfgW2d7a2vqEN/M+rgC3Xkm6cOAf+QUan9Iz+7/ymjX/Gz8BDJO12uOTf7IAAAAASUVORK5CYII=\"","export const emptyImageFilter = {\n  filters: {\n    emptyImage (src) {\n      return src || 'https://via.placeholder.com/350x220/DFDFDF?text=No+Image'\n    }\n  }\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=2a529bcc&prod&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_RESULT || !properErrorOnNonWritableLength();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.show)?_c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\"},[_c('form',{staticClass:\"modal-container\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"modal-header\"},[_c('button',{attrs:{\"name\":\"header\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('img',{attrs:{\"src\":require(\"../assets/X.png\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.currentUser.avatar),\"alt\":\"\"}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],staticClass:\"tweet\",attrs:{\"name\":\"tweet\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\",\"placeholder\":\"有什麼新鮮事?\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing)return;_vm.text=$event.target.value}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.textToMuch),expression:\"textToMuch\"}],staticClass:\"warn\"},[_vm._v(\"字數不可超過140字\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noSpace),expression:\"noSpace\"}],staticClass:\"warn__2\"},[_vm._v(\"內容不可空白\")]),_c('button',{staticClass:\"modal-default-button\",attrs:{\"disabled\":_vm.isLoading}},[_vm._v(\" 推文 \")])])])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"show\" class=\"modal-mask\">\n    <div class=\"modal-wrapper\">\n      <form class=\"modal-container\" @submit.stop.prevent=\"handleSubmit\">\n        <div class=\"modal-header\">\n          <button name=\"header\" @click=\"$emit('close')\">\n            <img src=\"../assets/X.png\" alt=\"\" />\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <img :src=\"currentUser.avatar | emptyImage\" alt=\"\" class=\"avatar\" />\n          <textarea\n            class=\"tweet\"\n            name=\"tweet\"\n            id=\"\"\n            cols=\"30\"\n            rows=\"10\"\n            placeholder=\"有什麼新鮮事?\"\n            v-model=\"text\"\n          ></textarea>\n        </div>\n        <div class=\"modal-footer\">\n          <div class=\"warn\" v-show=\"textToMuch\">字數不可超過140字</div>\n          <div class=\"warn__2\" v-show=\"noSpace\">內容不可空白</div>\n          <button class=\"modal-default-button\" :disabled=\"isLoading\">\n            推文\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport tweetsAPI from \"../apis/tweets.js\";\nimport { Toast } from \"./../utils/helper\";\nimport { Toast2 } from \"./../utils/helper\";\nimport { mapState } from \"vuex\";\nimport { emptyImageFilter } from \"../utils/mixins\";\n\nexport default {\n  mixins: [emptyImageFilter],\n  props: {\n    show: Boolean,\n  },\n  data() {\n    return {\n      text: \"\",\n      isLoading: false,\n      textToMuch: false,\n      noSpace: false,\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"]),\n  },\n  methods: {\n    async handleSubmit() {\n      this.isLoading = true;\n      if (this.text.trim().length > 140) {\n        this.isLoading = false;\n        this.noSpace = false;\n        return (this.textToMuch = true);\n      }\n      if (this.text.trim().length === 0) {\n        this.textToMuch = false;\n        this.isLoading = false;\n        return (this.noSpace = true);\n      }\n      try {\n        const { data } = await tweetsAPI.createTweet({\n          image: this.currentUser.avatar,\n          description: this.text,\n        });\n        Toast.fire({\n          title: \"推文發送成功\",\n        });\n        this.$emit(\"after-create-tweet-modal\", {\n          userAvatar: this.currentUser.avatar,\n          UserId: this.currentUser.id,\n          name: this.currentUser.name,\n          image: this.currentUser.avatar,\n          account: this.currentUser.account,\n          description: this.text,\n          RepliesCount: 0,\n          LikesCount: 0,\n          createdAt: new Date(),\n        });\n        this.textToMuch = false;\n        this.noSpace = false;\n        this.text = \"\";\n        this.$emit(\"close\");\n        this.isLoading = false;\n        if (data.status === \"error\") {\n          this.isLoading = false;\n          throw new Error(data.message);\n        }\n      } catch (error) {\n        Toast2({\n          title: \"目前無法推文\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-mask {\n  position: fixed;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: table;\n  transition: opacity 0.3s ease;\n}\n\n.modal-wrapper {\n  display: flex;\n  justify-content: center;\n  margin-top: 60px;\n}\n\n.modal-container {\n  width: 600px;\n  height: 300px;\n  margin: 0 auto;\n  background-color: #ffffff;\n  border-radius: 14px;\n}\n\n.modal-header {\n  padding: 15px;\n  margin-top: 0;\n  color: #42b983;\n  border-bottom: 1px #e6ecf0 solid;\n}\n\n.modal-body {\n  padding: 0 10px 0 10px;\n  margin: 20px 0;\n  display: flex;\n  .avatar {\n    border-radius: 100%;\n    height: 50px;\n    width: 50px;\n    margin-right: 10px;\n  }\n  .tweet {\n    font-size: 25px;\n    resize: none;\n    width: 510px;\n    height: 149px;\n    border: none;\n  }\n  .tweet::-webkit-input-placeholder {\n    font-size: 18px;\n    font: #9197a3;\n  }\n}\n.modal-footer {\n  display: flex;\n  justify-content: end;\n  .warn {\n    margin-right: 10px;\n    margin-top: 8px;\n    width: 138px;\n    height: 15px;\n    font-size: 15px;\n    color: #fc5a5a;\n    font-weight: 500;\n  }\n  .warn__2 {\n    margin-right: 10px;\n    margin-top: 8px;\n    width: 100px;\n    height: 15px;\n    font-size: 15px;\n    color: #fc5a5a;\n    font-weight: 500;\n  }\n  .modal-default-button {\n    margin: 0 15px 20px 0;\n    float: right;\n    width: 66px;\n    height: 38px;\n    font-size: 18px;\n    color: #ffffff;\n    background-color: #ff6600;\n    border-radius: 100px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetModal.vue?vue&type=template&id=5b46823d&scoped=true&\"\nimport script from \"./TweetModal.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetModal.vue?vue&type=style&index=0&id=5b46823d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b46823d\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJASURBVHgB7ZmLbdswEIa/dgJvUHYCOxOUG9QbVN0gGyQbtBvEnSDNBFYnaDOBlQncTtDwIhk4yY4kPvQAog/4ARogrTvyRB5PsLAQxTvSs3LaOq2rtvDX6dEpdyqYKWLsN6ej0/8W3TkZZoZxOtBuuNaBRE6kCCHjtKduUO70QBk6gqzOZyer+hROV6rPZEhInGZWwmfb0jejHmL3TIyhHhrbHmNsY4xlQvTs33mM26lx35kQ/eJaj3GWethNwibSCP0ufCCQ94RjVPsP/uSqfUUgqRx4xJ9/qr0ikBgH9END9vJCtQ2BxDgwC2Ic0LMeEgKxK/hCjAOFaq/xZ/3Kf42GzKA+UY3HWBMxNil7/DNMQ/0A9DnBz4jNRuUwEyd0POdOvyjjWsf2uupvG//xkYkvORn97wFax2rsLDDUw6lL0ndDAlLfiQ2lYaJmfvNEGSo/mcElZiEVQ5RVTiG0ol5WKSqFZK6DIkZmlC9mV0nltPvcM4MdSAy/oZ/RbeWVGyIIDSHL6wWqgjJMZNfRZRXZlTYtY75Sv+QMhszYpbC4pX8qcc3lQljUavShafyxMiaUjHNHBnOiafyeNFmk4fwUT+7EtvGAHenZMWDBSy/znuFopufBl31Nhn/OH4oYrLflWxKgZz9jeK5JWLWz1Gd/LPQq2LaOXZd6XW3OGY8fXLbhjC4HdOXggfHIVdu0dexy4Em1PzEO8iJ/Ub8LIrCEJ2qp1OejSSs7YCrjk338yJx+w2iGH4jLsRYW3gzPczpIIlWW9TAAAAAASUVORK5CYII=\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetModal.vue?vue&type=style&index=0&id=5b46823d&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&id=3a59062b&prod&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMMSURBVHgB7VnRcdswDH3N9T/pBGY3cCcoO0E8gjaoN7A2sDuBtIGSCZxOkG5gd4KkE6TiRTpBEAFSFu04F7873FkmHwgRIABJwAUXTMInHAdZLbe13DTXz7Xc11LizOEMfqzlRZBHdDd1liggG99KgTOF21lq6KYW20jOxt7MC7aWZWOQ9Yy1Bm49XBpaC0Hv0qM3CW4ao3g47GoxzRwaPr4wKcn4uvnPCHoLJPRS6GA6eWLXC48eG+Ac7cBXGO5OqSy8UXSFeHx8i4mwTGFOxgz67nc7uozQmeE19KiRloznbE2LCcgRl/4OcfUNZF4J/6YN8Bnx+KeMPWM8NM4LEsEioTsjYVKvSeN88qEaud4uNDmmmTNM0ReEQ8ZxXCqdNdd/a7mrZR/guTPxRK6/RnCiQHO2dmAN/IWplQpd4ZP4NKtNgjPU7eIacS6dI1ycWsPmih6qo8DrGRiV5dzkSlg8FzgGQ+OdJ9r+pvLchBF0LSF3sVE3IrUNpcKhBjov+XbYYFjAJGwgtxcqMg+hdaMEwzhGmTtnc2fKXBe+JYZnKlM4vZ3MEQfq8ruI+dSgmNbDYSOtccUm0hh7QBzMSM69wNVAjb6mA1d45+A3QAvULeKwH8n5LnBjOVpPNjjELl7dIV4oHMM48xFzjTLXNmvzrJghACmNrhUOPZg7wbA5+mm0UvQVODCNOriDXAoKpKxhMCxkFbpCxlOhVsgyTCxk9EYsuxmtP0nVSlAvufS5QIJnY2rYTJlnILch7ZkyCp++W4pq5o7dTpvmeo83bKdj+5dU2KZczyI+7aWCZWtabXKoElvyu0Sip6MAHmr5Bb8NA6RoJbTXIyGehGskgkXfnSs2xgtYFqHzJ/pZjWemFUaEUAx4ESrQf8wcU7E1XoFhBa6QAIe83LUePYsAx9c2JH1DXUIvTPSho/DooLvb7qzj7gS9UcaP/chn0bUBf9B/gFkQw9zYN8bdovPMD8bV9J4M/BPTCt0nJh77yUIjNbQ+SAuvs8HJP7Oe6kP3vpbfeAcfui/4cPgP3DPsRt9uv/kAAAAASUVORK5CYII=\"","import { apiHelper } from \"../utils/helper\";\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  //main.vue首頁拿所有推文的api\n  getTweets() {\n    return apiHelper.get('/tweets',\n      {\n        headers: { Authorization: `Bearer ${getToken()}` }\n      })\n  },\n  //取得一篇tweet內容及其回覆清單\n  getTweet({ tweetId }) {\n    return apiHelper.get(`/tweets/${tweetId}`,\n      {\n        headers: { Authorization: `Bearer ${getToken()} ` }\n      })\n  },\n  //新增一則推文 \n  createTweet({ image, description }) {\n    return apiHelper.post('/tweets', { image, description }, {\n      headers: {\n        Authorization: `Bearer ${getToken()} `\n      }\n    })\n  },\n  //推文可以加入like\n  addLike({ tweetId }) {\n    return apiHelper.post(`tweets/${tweetId}/like`, null, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  //推文可以移除like\n  deleteLike({ tweetId }) {\n    return apiHelper.post(`tweets/${tweetId}/unlike`, null, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n}","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACbSURBVHgBvZThDcAQEIVfOoERbvN2A93AKEYwgmp6ElEOUX3J++X5DjkHPKJgE+yCfcOa81VRJyi1k6CaQ0ewgizinOcbFRWrEvqkklOKwNqJLLt3T3WRGOTxBpaKiEDKYIQB5UCagZWAFmMtlNpuWKDlV56G/tI2OXSoseNgaP3jtIgINLy4o/1WinN3/pQqfjq+IlR3gowEuwDXfn/CSY55ogAAAABJRU5ErkJggg==\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopularUsers.vue?vue&type=style&index=0&id=8e448d26&prod&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBpZPLEcMgDER3qYRW0omP6SJt+JhO3EoqCTGCJHwkYMa6wIx4D4RGDHd4vLHB4ckdLyxEyTjZAI9zPSSxBh+Z2Vy0gHKzn0kK2AsTX/1LhDMRBI6JW1tOBzOdYXXAkFhwzLG7pZFIwoA7gSpJocKqQJHAgmM4WBGMfRN6CWXNSeBhdIdDmPkTBy3mCK7aaEg4g6sLFAlX4JHkO0xTWJ6753/5z87Gq+P8AWvcmeyQzGyUAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAOCAYAAADJ7fe0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABTSURBVHgBrdLRCQAgCATQo0ncfylHKRTqQwrM88Cojx6UYl6iqlNEvDLBCwBQQyJg5y+kChyEARxhAUc2UC27P9CRlufYQn/s3tAtZqH+sY9QFlmZh9qG/+G4HQAAAABJRU5ErkJggg==\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('nav',[_c('div',{attrs:{\"id\":\"logo\"}},[_c('router-link',{attrs:{\"to\":\"/main\"}},[_c('img',{attrs:{\"src\":require(\"../assets/Logo.png\"),\"alt\":\"logo\"}})])],1),_c('div',{staticClass:\"menu\"},[_c('ul',[_c('li',{class:{ active: _vm.currentStatus.isIndex }},[_c('router-link',{staticClass:\"menu__item\",attrs:{\"to\":\"/main\"}},[_c('img',{staticClass:\"index\",attrs:{\"src\":require(\"../assets/icon_index.png\"),\"alt\":\"index\"}}),_c('span',{staticClass:\"menu__item__title\"},[_vm._v(\"首頁\")])])],1),_c('li',{class:{ active: _vm.currentStatus.isUser }},[_c('router-link',{staticClass:\"menu__item\",attrs:{\"to\":{ name: 'user', params: { id: _vm.currentUser.id } }}},[_c('img',{staticClass:\"user\",attrs:{\"src\":require(\"../assets/icon_user.png\"),\"alt\":\"index\"}}),_c('span',{staticClass:\"menu__item__title\"},[_vm._v(\"個人資料\")])])],1),_c('li',{class:{ active: _vm.currentStatus.isSetting }},[_c('router-link',{staticClass:\"menu__item\",attrs:{\"to\":\"/profile/setting\"}},[_c('img',{staticClass:\"setting\",attrs:{\"src\":require(\"../assets/icon_cog.png\"),\"alt\":\"index\"}}),_c('span',{staticClass:\"menu__item__title\"},[_vm._v(\"設定\")])])],1)])]),_c('button',{staticClass:\"twit-button\",on:{\"click\":function($event){_vm.showModal = true}}},[_vm._v(\"推文\")]),_c('Modal',{attrs:{\"show\":_vm.showModal},on:{\"close\":function($event){_vm.showModal = false},\"after-create-tweet-modal\":_vm.afterCreateTweetModal}}),_c('div',{attrs:{\"id\":\"log-out\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.logOut.apply(null, arguments)}}},[_vm._m(0),_c('p',[_vm._v(\"登出\")])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"./../assets/Vector.png\"),\"alt\":\"logoOut\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <nav>\n    <div id=\"logo\">\n      <router-link to=\"/main\">\n        <img src=\"../assets/Logo.png\" alt=\"logo\" />\n      </router-link>\n    </div>\n    <div class=\"menu\">\n      <ul>\n        <li :class=\"{ active: currentStatus.isIndex }\">\n          <router-link to=\"/main\" class=\"menu__item\">\n            <img src=\"../assets/icon_index.png\" alt=\"index\" class=\"index\" />\n            <span class=\"menu__item__title\">首頁</span>\n          </router-link>\n        </li>\n        <li :class=\"{ active: currentStatus.isUser }\">\n          <router-link\n            :to=\"{ name: 'user', params: { id: currentUser.id } }\"\n            class=\"menu__item\"\n          >\n            <img src=\"../assets/icon_user.png\" alt=\"index\" class=\"user\" />\n            <span class=\"menu__item__title\">個人資料</span>\n          </router-link>\n        </li>\n        <li :class=\"{ active: currentStatus.isSetting }\">\n          <router-link to=\"/profile/setting\" class=\"menu__item\">\n            <img src=\"../assets/icon_cog.png\" alt=\"index\" class=\"setting\" />\n            <span class=\"menu__item__title\">設定</span>\n          </router-link>\n        </li>\n      </ul>\n    </div>\n    <button class=\"twit-button\" @click=\"showModal = true\">推文</button>\n    <Modal\n      :show=\"showModal\"\n      @close=\"showModal = false\"\n      @after-create-tweet-modal=\"afterCreateTweetModal\"\n    />\n    <div id=\"log-out\" @click.stop.prevent=\"logOut\">\n      <div>\n        <img src=\"./../assets/Vector.png\" alt=\"logoOut\" class=\"icon\" />\n      </div>\n      <p>登出</p>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport Modal from \"./TweetModal.vue\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"Navbar\",\n  components: {\n    Modal,\n  },\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"]),\n  },\n  props: {\n    currentStatus: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      showModal: false,\n    };\n  },\n  methods: {\n    afterCreateTweetModal(payload) {\n      this.$emit(\"after-create-tweet-modal\", payload);\n    },\n    logOut() {\n      localStorage.removeItem(\"token\");\n      this.$router.push(\"/login\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../styles/variables.scss\";\nnav {\n  margin-right: 2rem;\n  margin-top: 0.7rem;\n  position: relative;\n  // width:378px;\n  height: 100%;\n  #logo {\n    width: 50px;\n    height: 50px;\n  }\n  .menu {\n    margin-top: 47.78px;\n    &__item {\n      display: flex;\n      align-items: center;\n      color: $mainColor;\n      font-weight: 700;\n      margin-top: 35px;\n      &__title {\n        margin-left: 20px;\n      }\n    }\n  }\n  .active {\n    .menu__item {\n      .user {\n        filter: invert(47%) sepia(15%) saturate(7114%) hue-rotate(358deg)\n          brightness(98%) contrast(110%);\n      }\n      .index {\n        filter: invert(47%) sepia(15%) saturate(7114%) hue-rotate(358deg)\n          brightness(98%) contrast(110%);\n      }\n      .setting {\n        filter: invert(47%) sepia(15%) saturate(7114%) hue-rotate(358deg)\n          brightness(98%) contrast(110%);\n      }\n      &__title {\n        color: $orange;\n      }\n    }\n  }\n  .index,\n  .user,\n  .setting {\n    width: 22.75px;\n  }\n  .twit-button {\n    margin-top: 24px;\n    width: 210px;\n    height: 38px;\n    background-color: $orange;\n    border-radius: 100px;\n    font-weight: 500;\n    font-size: 1rem;\n    color: $white;\n  }\n  #log-out {\n    position: fixed;\n    bottom: 1rem;\n    display: flex;\n    justify-content: center;\n    cursor: pointer;\n    &:hover {\n      color: $orange;\n    }\n\n    .icon {\n      display: inline-block;\n      width: 18px;\n      height: 16px;\n    }\n    p {\n      margin-left: 23px;\n      font-weight: 700;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=3a59062b&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&id=3a59062b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a59062b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"popular-users\"}},[_c('p',{staticClass:\"title\"},[_vm._v(\"Popular\")]),_c('div',{staticClass:\"users-list\"},_vm._l((_vm.topUsers),function(user){return _c('div',{key:user.id,staticClass:\"item\"},[_c('router-link',{staticClass:\"image\",attrs:{\"to\":{ name: 'user', params: { id: user.id } }}},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(user.avatar),\"alt\":\"avatar\"}})]),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(user.name))]),_c('span',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(user.account))])]),(user.isFollowing)?_c('button',{staticClass:\"following-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.removeFollowing(user.id)}}},[_vm._v(\" 正在跟隨 \")]):_c('button',{staticClass:\"follow-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(user.id)}}},[_vm._v(\"跟隨\")])],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"popular-users\">\n    <p class=\"title\">Popular</p>\n    <div class=\"users-list\">\n      <div class=\"item\" v-for=\"user in topUsers\" :key=\"user.id\">\n        <!-- 點頭像可以連結至該使用者頁面 -->\n        <router-link :to=\"{ name: 'user', params: { id: user.id } }\" class=\"image\">\n          <!-- 缺少頭像 -->\n          <img :src=\"user.avatar | emptyImage\" alt=\"avatar\" />\n        </router-link>\n        <div class=\"info\">\n          <p class=\"name\">{{ user.name }}</p>\n          <span class=\"account\">@{{ user.account }}</span>\n        </div>\n\n        <button\n          class=\"following-btn\"\n          v-if=\"user.isFollowing\"\n          @click.stop.prevent=\"removeFollowing(user.id)\"\n        >\n          正在跟隨\n        </button>\n        <button class=\"follow-btn\" v-else @click.stop.prevent=\"addFollowing(user.id)\">跟隨</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport usersAPI from \"./../apis/users\";\nimport { Toast2 } from \"./../utils/helper\";\nimport { emptyImageFilter } from \"./../utils/mixins\";\n\nexport default {\n  name: \"PopularUsers\",\n  mixins: [emptyImageFilter],\n  props: {\n    changeTopUser: {\n      type: Array,\n    },\n  },\n  created() {\n    this.fetchTopUsers();\n  },\n  data() {\n    return {\n      topUsers: [],\n    };\n  },\n  methods: {\n    async fetchTopUsers() {\n      try {\n        const { data } = await usersAPI.getTopUser();\n        this.topUsers = data;\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取得Top使用者資料，請稍後再試\",\n        });\n      }\n    },\n    async removeFollowing(userId) {\n      try {\n        const { data } = await usersAPI.removeFollowship({ userId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.topUsers = this.topUsers.map((user) => {\n          if (user.id === userId) {\n            return {\n              ...user,\n              isFollowing: false,\n            };\n          }\n          return user;\n        });\n        this.$emit(\"after-remove-pop\", userId);\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法取消追蹤，請稍後再試\",\n        });\n      }\n    },\n    async addFollowing(userId) {\n      try {\n        const formData = { id: userId };\n        const { data } = await usersAPI.addFollowship({ formData });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.topUsers = this.topUsers.map((user) => {\n          if (user.id === userId) {\n            return {\n              ...user,\n              isFollowing: true,\n            };\n          }\n          return user;\n        });\n        this.$emit(\"after-add-pop\", userId);\n      } catch (error) {\n        console.log(\"error\", error);\n        Toast2.fire({\n          title: \"無法新增追蹤，請稍後再試\",\n        });\n      }\n    },\n  },\n  watch: {\n    changeTopUser() {\n      return (this.topUsers = {\n        ...this.topUsers,\n        ...this.changeTopUser,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./../styles/variables.scss\";\n#popular-users {\n  min-width: 350px;\n  width: 350px;\n  height: auto;\n  background-color: $formBgColor;\n  border-radius: 14px;\n  margin-top: 15px;\n  margin-left: 30px;\n  padding: 10px 15px;\n  .title {\n    font-weight: 700;\n  }\n  .users-list {\n    margin-top: 20px;\n  }\n  .item {\n    &:hover {\n      background-color: rgb(240, 240, 240);\n    }\n    padding: 10px 0;\n    width: 100%;\n    height: 70px;\n    position: relative;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-top: 1px solid #e6ecf0;\n    .image {\n      display: inline-block;\n      width: 50px;\n      height: 50px;\n      img {\n        border-radius: 50%;\n      }\n    }\n    .info {\n      position: absolute;\n      top: 18px;\n      left: 60px;\n      font-size: 15px;\n      line-height: 15px;\n      font-weight: 700;\n      .account {\n        color: $secondaryTextColor;\n      }\n    }\n    .following-btn {\n      width: 90px;\n      height: 35px;\n      background-color: $orange;\n      border-radius: 100px;\n      color: $white;\n      font-size: 15px;\n      font-weight: 700;\n    }\n    .follow-btn {\n      width: 60px;\n      height: 35px;\n      border: 1px solid $orange;\n      border-radius: 100px;\n      color: $orange;\n      font-size: 15px;\n      font-weight: 700;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopularUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopularUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PopularUsers.vue?vue&type=template&id=8e448d26&scoped=true&\"\nimport script from \"./PopularUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./PopularUsers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PopularUsers.vue?vue&type=style&index=0&id=8e448d26&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e448d26\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}