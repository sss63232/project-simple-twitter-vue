(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6499c140"],{"1e84":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM2SURBVHgB7ZlLThtBEIYL20gRDwnEBgkQkxvADewTROyyizlB4ATgG2SbFWaZHTlBnBuYXXbphS17FyPbC8uv/L/jWIk10109D0Mif9LIzXRNd//d1TXVg8iaNYnIS0bsgYODg7c7OztBr9f7JhmxIRlwdHRUzuVyN9PpNJh1srFhJpNJpdlsViVlUhVwfHxcxM8NrmJoZxkISUWAa+Ah1Eaj0WW73TaSkEQCDg8Pg0KhcCf6gf8FXKw6Ho8rSYTEEsANuru7Sx+/khRIIsRLAAeOqPIeRQ58T9LnFq517yNELQB+Th/PauALfDe6U8BySFwVWiGRAmJElkygELjVdavVegitX77xUgYeQmjoXQhgSMzn8zdQXJYXzHLEWgg4OTn5vmo/jwvdqtvtnndAjjewUc/+lcETjnV7eztgeSZgc3PT4Kb5w6ZGlZIQtrnUbirtsIzoVGd5JsAY04FflVBxjT9LjUajhBD2VWIw7+waKfQ+OnnNi2Xcu4wrBpP5yHbwe8G2+/3++aIu6iFEo1v5FY18Bn+Pxq/om2H1QRDsDYfDDxjIO/Gjgkm9DasoSPRgDDoSLbCvY5bKNhuuNH7KmJxT8QjT8I56VF3O8lxdPEAnFx7mFQ9bQXjvRNVFCuDGFj01nwQM7lDjM1p77CH/FZgvd6TyJR7FH+0znag9RWwuRIwoOxF/tM9YXdkqABtTNUvY7KfiCdrWPvNkq7QK8HiZFcUTpOhFpWmiFTCigK/2eRargmcMbepiC6HEtQfUoRSrdceM1mVHGx6QRIkthBKrAJ9QyhmF/RebCCaNtPFJHG0hlDhftXCNH+J5DmbOjlzqM2baYMCdwWBwhvKbGGeNDt4Z+zaDgrgxuM7EAw4US19mGacouoHExOnCrj2gDqUZ8eQycApI41yQgFRWwMgz4QqhxClAPLPSNHGFUOIU4JmVpoorhBKnAM+sNE2sWehvNC5EjKweleuqBDxTKHWGUKISgM208o2MSXvQ2KkEIA2oygr3AUM3QmhNY6sSwI2MRkuyGhHs40J7xlYnKfgW2d7a2vqEN/M+rgC3Xkm6cOAf+QUan9Iz+7/ymjX/Gz8BDJO12uOTf7IAAAAASUVORK5CYII="},4287:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.show?r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("form",{staticClass:"modal-container",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[r("div",{staticClass:"modal-header"},[r("button",{attrs:{name:"header"},on:{click:function(e){return t.$emit("close")}}},[r("img",{attrs:{src:a("aac3"),alt:""}})])]),r("div",{staticClass:"modal-body"},[r("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:""}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"tweet",attrs:{name:"tweet",id:"",cols:"30",rows:"10",placeholder:"有什麼新鮮事?"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),r("div",{staticClass:"modal-footer"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.textToMuch,expression:"textToMuch"}],staticClass:"warn"},[t._v("字數不可超過140字")]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.noSpace,expression:"noSpace"}],staticClass:"warn__2"},[t._v("內容不可空白")]),r("button",{staticClass:"modal-default-button",attrs:{disabled:t.isLoading}},[t._v(" 推文 ")])])])])]):t._e()},n=[],s=a("1da1"),o=a("5530"),i=(a("96cf"),a("498a"),a("b0c0"),a("d9e2"),a("6783")),c=a("c968"),A=a("2f62"),u=a("2708"),l={mixins:[u["a"]],props:{show:Boolean},data:function(){return{text:"",isLoading:!1,textToMuch:!1,noSpace:!1}},computed:Object(o["a"])({},Object(A["b"])(["currentUser","isAuthenticated"])),methods:{handleSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLoading=!0,!(t.text.trim().length>140)){e.next=5;break}return t.isLoading=!1,t.noSpace=!1,e.abrupt("return",t.textToMuch=!0);case 5:if(0!==t.text.trim().length){e.next=9;break}return t.textToMuch=!1,t.isLoading=!1,e.abrupt("return",t.noSpace=!0);case 9:return e.prev=9,e.next=12,i["a"].createTweet({image:t.currentUser.avatar,description:t.text});case 12:if(a=e.sent,r=a.data,c["a"].fire({title:"推文發送成功"}),t.$emit("after-create-tweet-modal",{userAvatar:t.currentUser.avatar,UserId:t.currentUser.id,name:t.currentUser.name,image:t.currentUser.avatar,account:t.currentUser.account,description:t.text,RepliesCount:0,LikesCount:0,createdAt:new Date}),t.textToMuch=!1,t.noSpace=!1,t.text="",t.$emit("close"),t.isLoading=!1,"error"!==r.status){e.next=24;break}throw t.isLoading=!1,new Error(r.message);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](9),Object(c["b"])({title:"目前無法推文"});case 29:case"end":return e.stop()}}),e,null,[[9,26]])})))()}}},d=l,g=(a("9a71"),a("2877")),m=Object(g["a"])(d,r,n,!1,null,"5b46823d",null);e["default"]=m.exports},"44e1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJASURBVHgB7ZmLbdswEIa/dgJvUHYCOxOUG9QbVN0gGyQbtBvEnSDNBFYnaDOBlQncTtDwIhk4yY4kPvQAog/4ARogrTvyRB5PsLAQxTvSs3LaOq2rtvDX6dEpdyqYKWLsN6ej0/8W3TkZZoZxOtBuuNaBRE6kCCHjtKduUO70QBk6gqzOZyer+hROV6rPZEhInGZWwmfb0jejHmL3TIyhHhrbHmNsY4xlQvTs33mM26lx35kQ/eJaj3GWethNwibSCP0ufCCQ94RjVPsP/uSqfUUgqRx4xJ9/qr0ikBgH9END9vJCtQ2BxDgwC2Ic0LMeEgKxK/hCjAOFaq/xZ/3Kf42GzKA+UY3HWBMxNil7/DNMQ/0A9DnBz4jNRuUwEyd0POdOvyjjWsf2uupvG//xkYkvORn97wFax2rsLDDUw6lL0ndDAlLfiQ2lYaJmfvNEGSo/mcElZiEVQ5RVTiG0ol5WKSqFZK6DIkZmlC9mV0nltPvcM4MdSAy/oZ/RbeWVGyIIDSHL6wWqgjJMZNfRZRXZlTYtY75Sv+QMhszYpbC4pX8qcc3lQljUavShafyxMiaUjHNHBnOiafyeNFmk4fwUT+7EtvGAHenZMWDBSy/znuFopufBl31Nhn/OH4oYrLflWxKgZz9jeK5JWLWz1Gd/LPQq2LaOXZd6XW3OGY8fXLbhjC4HdOXggfHIVdu0dexy4Em1PzEO8iJ/Ub8LIrCEJ2qp1OejSSs7YCrjk338yJx+w2iGH4jLsRYW3gzPczpIIlWW9TAAAAAASUVORK5CYII="},"498a":function(t,e,a){"use strict";var r=a("23e7"),n=a("58a8").trim,s=a("c8d2");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},"4bf0":function(t,e,a){"use strict";a("f134")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("e330"),n=a("1d80"),s=a("577e"),o=a("5899"),i=r("".replace),c="["+o+"]",A=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),l=function(t){return function(e){var a=s(n(e));return 1&t&&(a=i(a,A,"")),2&t&&(a=i(a,u,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"657c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMMSURBVHgB7VnRcdswDH3N9T/pBGY3cCcoO0E8gjaoN7A2sDuBtIGSCZxOkG5gd4KkE6TiRTpBEAFSFu04F7873FkmHwgRIABJwAUXTMInHAdZLbe13DTXz7Xc11LizOEMfqzlRZBHdDd1liggG99KgTOF21lq6KYW20jOxt7MC7aWZWOQ9Yy1Bm49XBpaC0Hv0qM3CW4ao3g47GoxzRwaPr4wKcn4uvnPCHoLJPRS6GA6eWLXC48eG+Ac7cBXGO5OqSy8UXSFeHx8i4mwTGFOxgz67nc7uozQmeE19KiRloznbE2LCcgRl/4OcfUNZF4J/6YN8Bnx+KeMPWM8NM4LEsEioTsjYVKvSeN88qEaud4uNDmmmTNM0ReEQ8ZxXCqdNdd/a7mrZR/guTPxRK6/RnCiQHO2dmAN/IWplQpd4ZP4NKtNgjPU7eIacS6dI1ycWsPmih6qo8DrGRiV5dzkSlg8FzgGQ+OdJ9r+pvLchBF0LSF3sVE3IrUNpcKhBjov+XbYYFjAJGwgtxcqMg+hdaMEwzhGmTtnc2fKXBe+JYZnKlM4vZ3MEQfq8ruI+dSgmNbDYSOtccUm0hh7QBzMSM69wNVAjb6mA1d45+A3QAvULeKwH8n5LnBjOVpPNjjELl7dIV4oHMM48xFzjTLXNmvzrJghACmNrhUOPZg7wbA5+mm0UvQVODCNOriDXAoKpKxhMCxkFbpCxlOhVsgyTCxk9EYsuxmtP0nVSlAvufS5QIJnY2rYTJlnILch7ZkyCp++W4pq5o7dTpvmeo83bKdj+5dU2KZczyI+7aWCZWtabXKoElvyu0Sip6MAHmr5Bb8NA6RoJbTXIyGehGskgkXfnSs2xgtYFqHzJ/pZjWemFUaEUAx4ESrQf8wcU7E1XoFhBa6QAIe83LUePYsAx9c2JH1DXUIvTPSho/DooLvb7qzj7gS9UcaP/chn0bUBf9B/gFkQw9zYN8bdovPMD8bV9J4M/BPTCt0nJh77yUIjNbQ+SAuvs8HJP7Oe6kP3vpbfeAcfui/4cPgP3DPsRt9uv/kAAAAASUVORK5CYII="},6783:function(t,e,a){"use strict";a("a4d3"),a("e01a");var r=a("c968"),n=function(){return localStorage.getItem("token")};e["a"]={getTweets:function(){return r["c"].get("/tweets",{headers:{Authorization:"Bearer ".concat(n())}})},getTweet:function(t){var e=t.tweetId;return r["c"].get("/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(n()," ")}})},createTweet:function(t){var e=t.image,a=t.description;return r["c"].post("/tweets",{image:e,description:a},{headers:{Authorization:"Bearer ".concat(n()," ")}})},addLike:function(t){var e=t.tweetId;return r["c"].post("tweets/".concat(e,"/like"),null,{headers:{Authorization:"Bearer ".concat(n())}})},deleteLike:function(t){var e=t.tweetId;return r["c"].post("tweets/".concat(e,"/unlike"),null,{headers:{Authorization:"Bearer ".concat(n())}})}}},"6cf5":function(t,e,a){},"6d23":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACbSURBVHgBvZThDcAQEIVfOoERbvN2A93AKEYwgmp6ElEOUX3J++X5DjkHPKJgE+yCfcOa81VRJyi1k6CaQ0ewgizinOcbFRWrEvqkklOKwNqJLLt3T3WRGOTxBpaKiEDKYIQB5UCagZWAFmMtlNpuWKDlV56G/tI2OXSoseNgaP3jtIgINLy4o/1WinN3/pQqfjq+IlR3gowEuwDXfn/CSY55ogAAAABJRU5ErkJggg=="},"9a71":function(t,e,a){"use strict";a("6cf5")},a615:function(t,e,a){},aac3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACvSURBVHgBpZPLEcMgDER3qYRW0omP6SJt+JhO3EoqCTGCJHwkYMa6wIx4D4RGDHd4vLHB4ckdLyxEyTjZAI9zPSSxBh+Z2Vy0gHKzn0kK2AsTX/1LhDMRBI6JW1tOBzOdYXXAkFhwzLG7pZFIwoA7gSpJocKqQJHAgmM4WBGMfRN6CWXNSeBhdIdDmPkTBy3mCK7aaEg4g6sLFAlX4JHkO0xTWJ6753/5z87Gq+P8AWvcmeyQzGyUAAAAAElFTkSuQmCC"},c8d2:function(t,e,a){var r=a("5e77").PROPER,n=a("d039"),s=a("5899"),o="​᠎";t.exports=function(t){return n((function(){return!!s[t]()||o[t]()!==o||r&&s[t].name!==t}))}},c9d3:function(t,e,a){"use strict";a("a615")},d178:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",[r("div",{attrs:{id:"logo"}},[r("router-link",{attrs:{to:"/main"}},[r("img",{attrs:{src:a("bca0"),alt:"logo"}})])],1),r("div",{staticClass:"menu"},[r("ul",[r("li",{class:{active:t.currentStatus.isIndex}},[r("router-link",{staticClass:"menu__item",attrs:{to:"/main"}},[r("img",{staticClass:"index",attrs:{src:a("1e84"),alt:"index"}}),r("span",{staticClass:"menu__item__title"},[t._v("首頁")])])],1),r("li",{class:{active:t.currentStatus.isUser}},[r("router-link",{staticClass:"menu__item",attrs:{to:{name:"user",params:{id:t.currentUser.id}}}},[r("img",{staticClass:"user",attrs:{src:a("44e1"),alt:"index"}}),r("span",{staticClass:"menu__item__title"},[t._v("個人資料")])])],1),r("li",{class:{active:t.currentStatus.isSetting}},[r("router-link",{staticClass:"menu__item",attrs:{to:"/profile/setting"}},[r("img",{staticClass:"setting",attrs:{src:a("657c"),alt:"index"}}),r("span",{staticClass:"menu__item__title"},[t._v("設定")])])],1)])]),r("button",{staticClass:"twit-button",on:{click:function(e){t.showModal=!0}}},[t._v("推文")]),r("Modal",{attrs:{show:t.showModal},on:{close:function(e){t.showModal=!1},"after-create-tweet-modal":t.afterCreateTweetModal}}),r("div",{attrs:{id:"log-out"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logOut.apply(null,arguments)}}},[t._m(0),r("p",[t._v("登出")])])],1)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{staticClass:"icon",attrs:{src:a("6d23"),alt:"logoOut"}})])}],s=a("5530"),o=a("4287"),i=a("2f62"),c={name:"Navbar",components:{Modal:o["default"]},computed:Object(s["a"])({},Object(i["b"])(["currentUser","isAuthenticated"])),props:{currentStatus:{type:Object,required:!0}},data:function(){return{showModal:!1}},methods:{afterCreateTweetModal:function(t){this.$emit("after-create-tweet-modal",t)},logOut:function(){localStorage.removeItem("token"),this.$router.push("/login")}}},A=c,u=(a("c9d3"),a("2877")),l=Object(u["a"])(A,r,n,!1,null,"3a59062b",null);e["a"]=l.exports},d81d:function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").map,s=a("1dde"),o=s("map");r({target:"Array",proto:!0,forced:!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,a){"use strict";var r=a("23e7"),n=a("83ab"),s=a("da84"),o=a("e330"),i=a("1a2d"),c=a("1626"),A=a("3a9b"),u=a("577e"),l=a("9bf2").f,d=a("e893"),g=s.Symbol,m=g&&g.prototype;if(n&&c(g)&&(!("description"in m)||void 0!==g().description)){var p={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=A(m,this)?new g(t):void 0===t?g():g(t);return""===t&&(p[e]=!0),e};d(f,g),f.prototype=m,m.constructor=f;var v="Symbol(test)"==String(g("test")),w=o(m.toString),h=o(m.valueOf),x=/^Symbol\((.*)\)[^)]+$/,b=o("".replace),C=o("".slice);l(m,"description",{configurable:!0,get:function(){var t=h(this),e=w(t);if(i(p,t))return"";var a=v?C(e,7,-1):b(e,x,"$1");return""===a?void 0:a}}),r({global:!0,forced:!0},{Symbol:f})}},f134:function(t,e,a){},f963:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"popular-users"}},[a("p",{staticClass:"title"},[t._v("Popular")]),a("div",{staticClass:"users-list"},t._l(t.topUsers,(function(e){return a("div",{key:e.id,staticClass:"item"},[a("router-link",{staticClass:"image",attrs:{to:{name:"user",params:{id:e.id}}}},[a("img",{attrs:{src:t._f("emptyImage")(e.avatar),alt:"avatar"}})]),a("div",{staticClass:"info"},[a("p",{staticClass:"name"},[t._v(t._s(e.name))]),a("span",{staticClass:"account"},[t._v("@"+t._s(e.account))])]),e.isFollowing?a("button",{staticClass:"following-btn",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.removeFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):a("button",{staticClass:"follow-btn",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.addFollowing(e.id)}}},[t._v(" 跟隨 ")])],1)})),0)])},n=[],s=a("5530"),o=a("1da1"),i=(a("d9e2"),a("d81d"),a("96cf"),a("4cce")),c=a("c968"),A=a("2708"),u={name:"PopularUsers",mixins:[A["a"]],props:{changeTopUser:{type:Array}},created:function(){this.fetchTopUsers()},data:function(){return{topUsers:[]}},methods:{fetchTopUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i["a"].getTopUser();case 3:a=e.sent,r=a.data,t.topUsers=r,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("error",e.t0),c["b"].fire({title:"無法取得Top使用者資料，請稍後再試"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},removeFollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i["a"].removeFollowship({userId:t});case 3:if(r=a.sent,n=r.data,"error"!==n.status){a.next=7;break}throw new Error(n.message);case 7:e.topUsers=e.topUsers.map((function(e){return e.id===t?Object(s["a"])(Object(s["a"])({},e),{},{isFollowing:!1}):e})),e.$emit("after-remove-pop",t),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),console.log("error",a.t0),c["b"].fire({title:"無法取消追蹤，請稍後再試"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},addFollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r={id:t},a.next=4,i["a"].addFollowship({formData:r});case 4:if(n=a.sent,o=n.data,"error"!==o.status){a.next=8;break}throw new Error(o.message);case 8:e.topUsers=e.topUsers.map((function(e){return e.id===t?Object(s["a"])(Object(s["a"])({},e),{},{isFollowing:!0}):e})),e.$emit("after-add-pop",t),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](0),console.log("error",a.t0),c["b"].fire({title:"無法新增追蹤，請稍後再試"});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()}},watch:{changeTopUser:function(){return this.topUsers=Object(s["a"])(Object(s["a"])({},this.topUsers),this.changeTopUser)}}},l=u,d=(a("4bf0"),a("2877")),g=Object(d["a"])(l,r,n,!1,null,"585829a2",null);e["a"]=g.exports}}]);
//# sourceMappingURL=chunk-6499c140.214e2c94.js.map